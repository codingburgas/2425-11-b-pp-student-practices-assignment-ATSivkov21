{% extends 'layout.html' %}
{% block title %}User Survey{% endblock %}
{% block content %}
<div class="row justify-content-center fade-in-up">
  <div class="col-md-8">
    <h2 class="mb-4">Tell Us About Yourself</h2>
    <form method="POST">
      {{ form.hidden_tag() }}
      <div class="mb-3">{{ form.age.label }}{{ form.age(class="form-control") }}</div>
      <div class="mb-3">{{ form.daily_online_hours.label }}{{ form.daily_online_hours(class="form-control") }}</div>
      <div class="mb-3">{{ form.device.label }}{{ form.device(class="form-select") }}</div>
      <div class="mb-3">{{ form.interests.label }}{{ form.interests(class="form-control", rows=3) }}</div>
      <div class="mb-3">{{ form.streaming_apps_count.label }}{{ form.streaming_apps_count(class="form-control") }}</div>
      <div class="mb-3">{{ form.video_clip_length.label }}{{ form.video_clip_length(class="form-control") }}</div>
      <div class="mb-3">
        <label class="form-label">Which Ads Do You Like?</label>
        <div class="d-flex flex-wrap gap-3">
          {% for ad in ad_images %}
            <label style="text-align:center;">
              <input type="checkbox" name="selected_ads" value="{{ ad }}" {% if ad in form.selected_ads.data %}checked{% endif %}>
              <img src="{{ url_for('static', filename='ads/' ~ ad) }}" alt="Ad" style="width:120px; display:block; margin:0 auto 5px auto; border-radius:8px; border:1px solid #ccc;">
              <div>{{ ad }}</div>
            </label>
          {% endfor %}
        </div>
      </div>
      <div class="mb-3">{{ form.submit(class="btn btn-info w-100") }}</div>
    </form>
  </div>
</div>
{% endblock %}
